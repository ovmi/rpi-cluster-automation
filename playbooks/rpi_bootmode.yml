---
- name: Configure Raspberry Pi boot mode on cluster nodes via EEPROM
  hosts: control
  gather_facts: true
  become: true

  vars:
    nodes_param: "{{ nodes | default('node0') }}"
    boot_mode_param: "{{ boot_mode | default('auto') | lower }}"

  roles:
    - rpi_bootmode

# Configure Raspberry Pi boot mode options (e.g., USB boot, network boot).
# Example command line to run this playbook (set slot A and check expected device):
# ansible-playbook playbooks/rpi_bootmode.yml -e nodes=node0 -e boot_mode=nvme_prio -e debug=true
# ansible-playbook playbooks/rpi_bootmode.yml -e nodes=node1,node2 -e boot_mode=net_prio
